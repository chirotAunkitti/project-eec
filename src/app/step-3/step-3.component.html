<div class="signature-container">
  <!-- Loading Overlay -->
  <div class="loading-overlay" *ngIf="isLoading">
    <div class="loading-spinner"></div>
  </div>

  <h2>เพิ่มลายเซ็น</h2>
  <div class="signature-box">
    <div class="canvas-container">
      <canvas #signatureCanvas 
        (mousedown)="startDrawing($event)"
        (mousemove)="draw($event)"
        (mouseup)="stopDrawing()"
        (mouseleave)="stopDrawing()"
        (touchstart)="startDrawing($event)"
        (touchmove)="draw($event)"
        (touchend)="stopDrawing()">
      </canvas>
    </div>
    <div class="input-container">
      <div class="input-wrapper">
        <input 
          type="text" 
          [formControl]="nameControl" 
          placeholder="ชื่อ - นามสกุล (ภาษาไทย)" 
          class="name-input"
          [class.error]="nameControl.invalid && nameControl.touched">
        <div class="error-message" *ngIf="nameControl.invalid && nameControl.touched">
          {{ getNameErrorMessage() }}
        </div>
      </div>
    </div>
    <div class="button-container">
      <button class="clear-btn" (click)="clearCanvas()" [disabled]="isLoading">ล้าง</button>
      <button 
        class="save-btn" 
        (click)="saveSignature()" 
        [disabled]="isLoading || !isFormValid()">
        บันทึก
      </button>
      <button class="cancel-btn" (click)="cancel()" [disabled]="isLoading">ยกเลิก</button>
    </div>
  </div>
</div>